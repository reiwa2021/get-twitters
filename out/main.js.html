<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: main.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: main.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>"use strict";
/**
 * アプリ名：ツイッター情報表示アプリ
 * 概要：ツイート情報をAPIで取得ソートしツイート日時の新しいアカウント順に表示する
 * 
 * node.jsの基本的な機能に比べて下記機能はコーディングせず
 * model、cookie、session、passport、メソッドオーバーライド
 */


// フレームワークのエクスプレスを読み込みます。
const express = require("express"),
// EJSのレイアウトライブラリを読み込みます。
layouts = require("express-ejs-layouts"),
// 経路統括モジュールを読み込みます。
router = require("./routes/index"),
// エクスプレスのセッションライブラリーを読み込みます。
expressSession = require("express-session"),
// フラッシュメッセージのライブラリを読み込みます。
connectFlash = require("connect-flash");
// 下記ライブラリーは未実装(将来的に実装)
// cookieParser = require("cookie-parser");
// passport = require("passport");

// expressアプリケーションを取得します
const app = express();

// サーバのポート番号をセットします
app.set("port", process.env.PORT || 3000);

// テンプレートエンジンとしてEJSをセットします
app.set("view engine", "ejs");

// publicフォルダ内の静的アセットファイルをクライアントに提供します。
app.use(express.static("public"));

// ExpressのEJSでレイアウト機能を使います。
app.use(layouts);

// Postされたデータを解析して受け取ります。
app.use(
  express.urlencoded({
    extended:false
  })
);
app.use(express.json());

// app.use(cookieParser("secret-passcode-tetsu"));

// エクスプレスでセッションを使います。
app.use(expressSession({
  secret: "secret-passcode-tetsu",
  resave: false,
  saveUninitialized: false,
  cookie: {
    maxAge:  10*1000  //一分
  }
}));

// フラッシュメッセージをセッションで使います。
app.use(connectFlash());

// フラッシュメッセージをレスポンスのローカル変数に代入します。
app.use((req, res, next) => {
  res.locals.flashMessages = req.flash();
  next(); 
});

// ルート配下へのアクセスは経路統括モジュールを使います。
app.use("/", router);

// ExpressサーバをPort番号で起動します。
app.listen(app.get("port"), () => {
  console.log(`Server starting at PORT ${app.get("port")}`);
});</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Global</h3><ul><li><a href="global.html#express">express</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 3.6.10</a> on Wed Jun 01 2022 15:49:17 GMT+0900 (GMT+09:00)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
